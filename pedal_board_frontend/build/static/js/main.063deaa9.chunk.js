(this.webpackJsonppedal_board_frontend=this.webpackJsonppedal_board_frontend||[]).push([[0],{12:function(e,t,a){e.exports=a(19)},17:function(e,t,a){},19:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(11),l=a.n(r),i=(a(17),a(9)),o=a(2),d=a.n(o),c=a(7),h=a(3),p=a(4),u=a(1),m=a(5),b=a(6),g=a(8),v=function(e){Object(b.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={artists:n.props.artists,name:n.props.artist.name,band:n.props.artist.band,image:n.props.artist.image,wiki:n.props.artist.wiki,pedals:n.props.artist.pedals},n.handleChange=n.handleChange.bind(Object(u.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(u.a)(n)),n.handleCheckChange=n.handleCheckChange.bind(Object(u.a)(n)),n}return Object(p.a)(a,[{key:"handleChange",value:function(e){this.setState(Object(g.a)({},e.target.id,e.target.value))}},{key:"handleCheckChange",value:function(e){for(var t=document.getElementById("myform").querySelectorAll('input[type="checkbox"]'),a=[],n=0;n<t.length;n++)t[n].checked&&a.push(JSON.parse(t[n].value)),this.setState({pedals:[].concat(a)});return console.log(t),console.log(JSON.stringify(a)),console.log(a),a}},{key:"handleSubmit",value:function(){var e=Object(c.a)(d.a.mark((function e(t){var a,n,s,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(t.id),e.next=4,fetch("".concat(this.props.baseURL,"/api/artist/").concat(t.id,"/"),{method:"PUT",body:JSON.stringify({name:this.state.name,band:this.state.band,image:this.state.image,wiki:this.state.wiki,pedals:this.state.pedals.map((function(e){return e.id}))}),headers:{"Content-Type":"application/json"}});case 4:return a=e.sent,e.next=7,a.json();case 7:n=e.sent,console.log(n),s=this.state.artists.findIndex((function(e){return e.id===t.id})),(r=Object(i.a)(this.props.artists))[s].name=n.name,r[s].band=n.band,r[s].image=n.image,r[s].wiki=n.wiki,r[s].pedals=this.state.pedals,this.props.handleUpdate(r),this.props.toggleUpdateForm(),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),console.error(e.t0);case 23:case"end":return e.stop()}}),e,this,[[0,20]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("form",{id:"myform",onSubmit:function(t){t.preventDefault(),e.handleSubmit(e.props.artist)}},s.a.createElement("input",{type:"text",id:"name",value:this.state.name,onChange:this.handleChange}),s.a.createElement("input",{type:"text",id:"band",value:this.state.band,onChange:this.handleChange}),s.a.createElement("input",{type:"text",id:"image",value:this.state.image,onChange:this.handleChange}),s.a.createElement("input",{type:"text",id:"wiki",value:this.state.wiki,onChange:this.handleChange}),this.props.availablePedals.map((function(t,a){return s.a.createElement("div",{key:a},s.a.createElement("label",{htmlFor:t},t.model),s.a.createElement("input",{id:"".concat(t),type:"checkbox",value:JSON.stringify(t),onChange:e.handleCheckChange}))})),s.a.createElement("input",{className:"form-control btn btn-outline-success",type:"submit"})))}}]),a}(n.Component),f=function(e){Object(b.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={artist:n.props.artist,artistsPedals:[],toggleShowPedals:!1,showUpdate:!1},n.getArtistsPedals=n.getArtistsPedals.bind(Object(u.a)(n)),n.toggleShow=n.toggleShow.bind(Object(u.a)(n)),n.toggleUpdateForm=n.toggleUpdateForm.bind(Object(u.a)(n)),n}return Object(p.a)(a,[{key:"getArtistsPedals",value:function(){for(var e=this,t=[],a=this.props.artist.pedals,n=function(n){e.props.availablePedals.map((function(e){e.id===a[n]&&t.push(e)}))},s=0;s<a.length;s++)n(s);this.setState({artistsPedals:[].concat(t)})}},{key:"toggleShow",value:function(){this.setState({toggleShowPedals:!this.state.toggleShowPedals})}},{key:"toggleUpdateForm",value:function(){this.setState({showUpdate:!this.state.showUpdate})}},{key:"componentDidMount",value:function(){this.getArtistsPedals()}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"card"},s.a.createElement("img",{className:"card-img-top",src:this.props.artist.image,alt:"artist"}),s.a.createElement("h2",{className:"card-header"},this.props.artist.name),s.a.createElement("h3",null,this.props.artist.band),s.a.createElement("a",{href:this.props.artist.wiki,target:"_blank",rel:"noopener noreferrer"},"More Info"),s.a.createElement("h3",{className:"show-hide",onClick:function(){return e.toggleShow()}},this.state.toggleShowPedals?"Hide Pedal Board":"Show Pedal Board"),this.state.toggleShowPedals?s.a.createElement("div",{className:"pedal-group"},this.state.artist.pedals.map((function(e){return s.a.createElement("div",{className:"pedal-container"},s.a.createElement("div",null,s.a.createElement("h5",null,"Model: ",e.model),s.a.createElement("h6",null,"Brand: ",e.brand)),s.a.createElement("img",{className:"pedal-image",src:e.image,alt:"pedal"}))}))):null,s.a.createElement("div",{className:"button-group"},s.a.createElement("button",{className:"btn btn-warning",onClick:function(){e.toggleUpdateForm()}},"UPDATE"),s.a.createElement("button",{className:"btn btn-danger",onClick:function(){return e.props.deleteArtist(e.props.artist.id)}},"DELETE")),this.state.showUpdate?s.a.createElement(v,{baseURL:this.props.baseURL,toggleUpdateForm:this.toggleUpdateForm,artist:this.props.artist,handleUpdate:this.props.handleUpdate,artists:this.props.artists,artistsPedals:this.state.artistsPedals,availablePedals:this.props.availablePedals}):null))}}]),a}(n.Component),P=function(e){Object(b.a)(a,e);var t=Object(m.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return s.a.createElement("header",null,s.a.createElement("h1",null,"Pedal Board"))}}]),a}(n.Component),w=function(e){Object(b.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={name:"",band:"",image:"",wiki:""},n.handleChange=n.handleChange.bind(Object(u.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(u.a)(n)),n}return Object(p.a)(a,[{key:"handleChange",value:function(e){this.setState(Object(g.a)({},e.target.id,e.target.value))}},{key:"handleSubmit",value:function(){var e=Object(c.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,fetch("".concat(this.props.baseURL,"/api/artist/"),{method:"POST",body:JSON.stringify({name:this.state.name,band:this.state.band,image:this.state.image,wiki:this.state.wiki}),headers:{"Content-Type":"application/json"}});case 4:return a=e.sent,e.next=7,a.json();case 7:n=e.sent,console.log(n),this.props.handleAddArtist(n),this.props.toggleNewForm(),this.state={name:"",band:"",image:"",wiki:""},e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),console.error(e.t0);case 17:case"end":return e.stop()}}),e,this,[[1,14]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("form",{id:"myform",onSubmit:this.handleSubmit},s.a.createElement("input",{type:"text",id:"name",placeholder:"Name",onChange:this.handleChange}),s.a.createElement("input",{type:"text",id:"band",placeholder:"Band",onChange:this.handleChange}),s.a.createElement("input",{type:"text",id:"image",placeholder:"Image URL",onChange:this.handleChange}),s.a.createElement("input",{type:"text",id:"wiki",placeholder:"Wiki URL",onChange:this.handleChange}),s.a.createElement("input",{className:"form-control btn btn-outline-success",type:"submit"})))}}]),a}(n.Component),k=function(e){Object(b.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={model:"",band:"",image:""},n.handleChange=n.handleChange.bind(Object(u.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(u.a)(n)),n}return Object(p.a)(a,[{key:"handleChange",value:function(e){this.setState(Object(g.a)({},e.target.id,e.target.value))}},{key:"handleSubmit",value:function(){var e=Object(c.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,fetch("".concat(this.props.baseURL,"/api/pedal/"),{method:"POST",body:JSON.stringify({model:this.state.model,brand:this.state.brand,image:this.state.image}),headers:{"Content-Type":"application/json"}});case 4:return a=e.sent,e.next=7,a.json();case 7:n=e.sent,console.log(n),this.props.handleAddPedal(n),this.props.toggleNewPedalForm(),this.state={model:"",brand:"",image:""},e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),console.error(e.t0);case 17:case"end":return e.stop()}}),e,this,[[1,14]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return s.a.createElement("form",{id:"pedalform",onSubmit:this.handleSubmit},s.a.createElement("input",{type:"text",id:"model",placeholder:"Model",onChange:this.handleChange}),s.a.createElement("input",{type:"text",id:"brand",placeholder:"Brand",onChange:this.handleChange}),s.a.createElement("input",{type:"text",id:"image",placeholder:"Image URL",onChange:this.handleChange}),s.a.createElement("input",{className:"form-control btn btn-outline-success",type:"submit"}))}}]),a}(n.Component),y=function(e){Object(b.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={pedals:n.props.availablePedals,model:n.props.pedal.model,brand:n.props.pedal.brand,image:n.props.pedal.image},n.handleChange=n.handleChange.bind(Object(u.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(u.a)(n)),n}return Object(p.a)(a,[{key:"handleChange",value:function(e){this.setState(Object(g.a)({},e.target.id,e.target.value))}},{key:"handleSubmit",value:function(){var e=Object(c.a)(d.a.mark((function e(t){var a,n,s,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.prev=1,e.next=4,fetch("".concat(this.props.baseURL,"/api/pedal/").concat(t.id,"/"),{method:"PUT",body:JSON.stringify({model:this.state.model,brand:this.state.brand,image:this.state.image}),headers:{"Content-Type":"application/json"}});case 4:return a=e.sent,e.next=7,a.json();case 7:n=e.sent,console.log(n),s=this.state.pedals.findIndex((function(e){return e.id===t.id})),(r=Object(i.a)(this.state.pedals))[s].model=n.model,r[s].brand=n.brand,r[s].image=n.image,this.props.updatePedal(r),console.log(r),this.props.toggleUpdatePedalForm(),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(1),console.error(e.t0);case 22:case"end":return e.stop()}}),e,this,[[1,19]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("form",{id:"pedalUpdateform",onSubmit:function(t){t.preventDefault(),e.handleSubmit(e.props.pedal)}},s.a.createElement("input",{type:"text",id:"model",value:this.state.model,onChange:this.handleChange}),s.a.createElement("input",{type:"text",id:"brand",value:this.state.brand,onChange:this.handleChange}),s.a.createElement("input",{type:"text",id:"image",value:this.state.image,onChange:this.handleChange}),s.a.createElement("input",{className:"form-control btn btn-outline-success",type:"submit"})))}}]),a}(n.Component),E=function(e){Object(b.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={showUpdatePedal:!1},n.toggleUpdatePedalForm=n.toggleUpdatePedalForm.bind(Object(u.a)(n)),n}return Object(p.a)(a,[{key:"toggleUpdatePedalForm",value:function(){this.setState({showUpdatePedal:!this.state.showUpdatePedal})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"card pedal"},s.a.createElement("div",null,s.a.createElement("h6",{className:"card-header"},this.props.pedal.model)),s.a.createElement("img",{className:"pedal-image",src:this.props.pedal.image,alt:"pedal"}),s.a.createElement("div",{className:"button-group"},s.a.createElement("button",{className:"btn btn-warning",onClick:function(){e.toggleUpdatePedalForm()}},"UPDATE"),s.a.createElement("button",{className:"btn btn-danger",onClick:function(){return e.props.deletePedal(e.props.pedal.id)}},"DELETE")),this.state.showUpdatePedal?s.a.createElement(y,{baseURL:this.props.baseURL,pedal:this.props.pedal,toggleUpdatePedalForm:this.toggleUpdatePedalForm,availablePedals:this.props.availablePedals,updatePedal:this.props.updatePedal}):null)}}]),a}(n.Component),j=function(e){Object(b.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={newPedal:!1},n.toggleNewPedalForm=n.toggleNewPedalForm.bind(Object(u.a)(n)),n}return Object(p.a)(a,[{key:"toggleNewPedalForm",value:function(){this.setState({newPedal:!this.state.newPedal})}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"pedal-list"},this.props.availablePedals.map((function(t,a){return s.a.createElement(E,{baseURL:e.props.baseURL,key:a,pedal:t,deletePedal:e.props.deletePedal,toggleUpdatePedalForm:e.toggleUpdatePedalForm,updatePedal:e.props.updatePedal,availablePedals:e.props.availablePedals})}))),s.a.createElement("button",{id:"add-new",className:"btn btn-success",onClick:function(){e.toggleNewPedalForm()}},"Add new Pedal"),this.state.newPedal?s.a.createElement(k,{baseURL:this.props.baseURL,handleAddPedal:this.props.handleAddPedal,toggleNewPedalForm:this.toggleNewPedalForm}):null)}}]),a}(n.Component),O="";O="https://pedal-board.herokuapp.com";var C=function(e){Object(b.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={artists:[],pedals:[],showPedals:!1,availablePedals:[],newArtist:!1},n.getArtists=n.getArtists.bind(Object(u.a)(n)),n.handleAddArtist=n.handleAddArtist.bind(Object(u.a)(n)),n.handleUpdate=n.handleUpdate.bind(Object(u.a)(n)),n.toggleNewForm=n.toggleNewForm.bind(Object(u.a)(n)),n.deleteArtist=n.deleteArtist.bind(Object(u.a)(n)),n.getPedals=n.getPedals.bind(Object(u.a)(n)),n.toggleShowPedals=n.toggleShowPedals.bind(Object(u.a)(n)),n.handleAddPedal=n.handleAddPedal.bind(Object(u.a)(n)),n.deletePedal=n.deletePedal.bind(Object(u.a)(n)),n.updatePedal=n.updatePedal.bind(Object(u.a)(n)),n}return Object(p.a)(a,[{key:"getArtists",value:function(){var e=Object(c.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(O,"/api/artist/"));case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,console.log(a),this.setState({artists:a}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0);case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"getPedals",value:function(){var e=Object(c.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(O,"/api/pedal/"));case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,console.log(a),this.setState({availablePedals:a}),console.log(this.state.availablePedals),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0);case 15:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"toggleNewForm",value:function(){this.setState({newArtist:!this.state.newArtist})}},{key:"toggleShowPedals",value:function(){this.setState({showPedals:!this.state.showPedals})}},{key:"handleAddArtist",value:function(e){console.log(e);var t=[].concat(Object(i.a)(this.state.artists),[e]);this.setState({artists:t})}},{key:"handleAddPedal",value:function(e){console.log(e);var t=[].concat(Object(i.a)(this.state.availablePedals),[e]);this.setState({availablePedals:t})}},{key:"handleUpdate",value:function(e){this.setState({artists:e}),console.log(e)}},{key:"updatePedal",value:function(e){this.setState({availablePedals:e}),console.log(e)}},{key:"deleteArtist",value:function(){var e=Object(c.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(O,"/api/artist/").concat(t,"/"),{method:"DELETE"});case 3:a=e.sent,console.log(a),this.setState((function(e){return{artists:e.artists.filter((function(e){return e.id!==t}))}})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"deletePedal",value:function(){var e=Object(c.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(O,"/api/pedal/").concat(t,"/"),{method:"DELETE"});case 3:e.sent,this.setState((function(e){return{availablePedals:e.availablePedals.filter((function(e){return e.id!==t}))}})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.getArtists(),this.getPedals()}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement(P,null),s.a.createElement("button",{id:"add-new",className:"btn btn-success",onClick:function(){e.toggleNewForm()}},"Add new Artist"),this.state.newArtist?s.a.createElement(w,{baseURL:O,availablePedals:this.state.availablePedals,handleAddArtist:this.handleAddArtist,toggleNewForm:this.toggleNewForm}):null,s.a.createElement("h2",{className:"all-pedals",onClick:this.toggleShowPedals},"All Pedals"),this.state.showPedals?s.a.createElement(j,{baseURL:O,deletePedal:this.deletePedal,handleAddPedal:this.handleAddPedal,availablePedals:this.state.availablePedals,updatePedal:this.updatePedal}):null,s.a.createElement("div",null,s.a.createElement("div",{className:"artist-container"},this.state.artists.map((function(t,a){return s.a.createElement(f,{baseURL:O,key:a,artist:t,artists:e.state.artists,deleteArtist:e.deleteArtist,availablePedals:e.state.availablePedals,handleUpdate:e.handleUpdate})})))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[12,1,2]]]);
//# sourceMappingURL=main.063deaa9.chunk.js.map